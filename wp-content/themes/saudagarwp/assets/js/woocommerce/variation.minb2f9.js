function retheme_variation_select(){var t=jQuery(".variations_form.cart");t.on("hide_variation",t=>{let e=document.querySelectorAll(".single_add_to_cart_button, .product_addtocart, .product_to_whatsapp");e.forEach(t=>{t.classList.add("disabled","wc-variation-selection-needed")})}),t.on("show_variation",(t,e,r)=>{t.preventDefault();let i=document.querySelectorAll(".single_add_to_cart_button, .product_addtocart, .product_to_whatsapp");r?i.forEach(t=>{t.classList.remove("disabled","wc-variation-selection-needed","wc-variation-is-unavailable")}):i.forEach(t=>{t.classList.remove("wc-variation-selection-needed"),t.classList.add("disabled","wc-variation-is-unavailable")})})}function retheme_variation_default(){let t=document.querySelector("form.cart");if(null==t)return!1;let e=document.querySelector(".product_title"),r=document.querySelector(".product_price"),i=document.querySelector(".main_single_product_image img");t.setAttribute("data-product",JSON.stringify({product_title:null!==e?e.textContent.trim():"",product_price_html:null!==r?r.innerHTML:"",product_image:null!==i?i.getAttribute("src"):""}))}function retheme_variation_title(t,e){let r=[];for(let i in e.attributes){let a=document.querySelector(`[data-attribute_name="${i}"]`);r.push(a.options[a.selectedIndex].innerHTML)}let o=JSON.parse(t.getAttribute("data-product")),l=o.product_title,n=document.querySelectorAll(".product_title"),c=Object.values(r).join(", "),u=`${l} - ${c}`,s=`${l} <span> - ${c} </span>`;n.forEach(t=>{t.innerHTML=s}),t.setAttribute("data-product",JSON.stringify(Object.assign(o,{variation_title:u,variation_title_html:s})))}function retheme_variation_price(t,e){let r=JSON.parse(t.getAttribute("data-product")),i=document.querySelectorAll(".product_price");t.setAttribute("data-product",JSON.stringify(Object.assign(r,{variation_price:e.display_price,variation_price_html:e.price_html}))),e.price_html&&i.forEach(t=>{t.innerHTML=e.price_html})}function retheme_variation_sales(t){if(t.display_price){let e=document.querySelectorAll(".rt-product-price .product_onsale"),r=document.querySelectorAll(".rt-product-price .onsale"),i=(t.display_regular_price-t.display_price)/t.display_regular_price*100;e.forEach(t=>{t.innerHTML=`${Math.round(i)}%`}),r.forEach(t=>{i>=1?t.style.display="block":t.style.display="none"})}}function retheme_variation_stocks(t,e){let r=t.querySelector(".js-quantity-change");1==e.max_qty?r.style.display="none":r.style.display="block";let i=document.querySelectorAll(".product_addtocart");e.is_in_stock>0?i.forEach(t=>{t.classList.remove("disabled wc-variation-is-unavailable")}):i.forEach(t=>{t.classList.add("disabled wc-variation-is-unavailable")})}function retheme_variation_images(t){let e=document.querySelectorAll(".main_product_thumbnail img, .main_single_product_image img");t.image.full_src;let r=t.image.src;t.image.gallery_thumbnail_src,r&&e.forEach(t=>{t.setAttribute("src",r),t.removeAttribute("srcset")})}function retheme_variation_sku(t){let e=document.querySelector(".sku_value");if(null==e)return!1;e.textContent=t.sku}function retheme_variation_change(){let t=document.querySelector(".variations_form.cart");if(null==t)return!1;jQuery(document).on("found_variation","form.variations_form",(e,r)=>{e.currentTarget,console.log(r.sku),retheme_variation_title(t,r),retheme_variation_price(t,r),retheme_variation_sales(r),retheme_variation_stocks(t,r),retheme_variation_images(r),retheme_variation_sku(r)})}function retheme_variation_reset(){let t=document.querySelector(".variations_form.cart"),e=document.querySelector(".reset_variations");if(null==e&&null==t)return!1;e.addEventListener("click",e=>{e.preventDefault();let r=JSON.parse(t.getAttribute("data-product")),i=document.querySelectorAll(".product_title"),a=document.querySelectorAll(".product_price"),o=document.querySelectorAll(".main_product_thumbnail img, .main_single_product_image img");i.forEach(t=>{t.innerHTML=r.product_title}),a.forEach(t=>{t.innerHTML=r.product_price_html}),o.forEach(t=>{t.setAttribute("src",r.product_image)});let l=document.querySelector(".sku_value");l&&(l.textContent=l.getAttribute("data-sku"))})}retheme_variation_select(),retheme_variation_default(),retheme_variation_change(),retheme_variation_reset();class retheme_product_variation{get_variation(t){let e=document.querySelector(".variations_form.cart"),r=JSON.parse(e.getAttribute("data-product_variations"));return r.find(e=>e.variation_id===parseInt(t))}selection_needed(){let t=document.querySelectorAll(".single_add_to_cart_button, .product_addtocart, .product_to_whatsapp"),e=document.querySelector(".rt-product-summary form.variations_form");t.forEach((t,r)=>{t.addEventListener("click",t=>{let r=t.target,i="";r.classList.contains("wc-variation-selection-needed")&&(t.preventDefault(),window.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text),i=!0),r.classList.contains("wc-variation-is-unavailable")&&(t.preventDefault(),window.alert(wc_add_to_cart_variation_params.i18n_no_matching_variations_text),i=!0),i&&null!==e&&e.scrollIntoView()})})}is_variation(){let t=document.querySelector("input.variation_id");return!!t}}class retheme_product_helper{money_format(t,e){if(t){let r=parseInt(t);return(e||"Rp")+Number(r.toFixed(1)).toLocaleString()}console.log("not format number")}}var variation=new retheme_product_variation;variation.selection_needed();