function wwc_variation_select_action(){jQuery(document).on("found_variation","form.variations_form",(function(e,t){document.querySelectorAll("[name='whatsapp_price']").forEach((e=>{e.value=t.display_price}))}))}function wwc_chat_widget(){const e=document.querySelector(".js-chat");if(null==e)return!1;const t=document.querySelectorAll(".js-chat-trigger"),a=e.querySelector(".js-chat-close"),n=e.querySelector(".wwc-chat__inner");e.getAttribute("data-autoload")&&setTimeout((function(){e.classList.add("is-active"),animateCSS(n,"fadeInUp",300)}),1e3),t.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e.classList.contains("is-active")?(e.classList.remove("is-active"),animateCSS(n,"fadeOutDown",300)):(e.classList.add("is-active"),animateCSS(n,"fadeInUp",300))}))})),a.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove("is-active"),animateCSS(n,"fadeOutDown",300)}))}function wwc_chat_submit(){const e=document.querySelector("#whatsapp-form-chat");if(null==e)return!1;e.addEventListener("submit",(e=>{e.preventDefault();const t=e.currentTarget,a=t.querySelector('[name="whatsapp_number"]').value,n=t.querySelector('[name="whatsapp_pixel"]').value,c=t.querySelector('[name="whatsapp_message"]').value,r=encodeURIComponent(c);window.location.href=`https://api.whatsapp.com/send?phone=${a}&text=${r}`,"function"==typeof fbq&&"none"!=n&&fbq("track",n)}))}function wwc_checkout_redirect(){document.querySelectorAll(".js-whatsapp-redirect").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const a=new retheme_product_helper,n=new retheme_product_variation,c=document.querySelector("form.cart");if(null==c||e.classList.contains("disabled"))return!1;const r=JSON.parse(c.getAttribute("data-product")),o=c.querySelector('[name="whatsapp_number"]').value;c.querySelector("[name='whatsapp_action']").value;let i="";i=n.is_variation()?r.variation_title:r.product_title;const u=c.querySelector("[name='whatsapp_price']").value,l=a.money_format(u,"Rp"),s=c.querySelector("[name='quantity']")?c.querySelector("[name='quantity']").value:1,p=parseInt(s*u),d=a.money_format(p),m=c.querySelector("[name ='whatsapp_pixel']").value,_=c.querySelector('input[name="variation_id"]'),w=c.querySelector('input[name="whatsapp_product_id"]');let f=c.querySelector("[name='whatsapp_message']").value,h="";h=null!=_?_.value:w.value,f=f.replace(/{{product}}/i,i),f=f.replace(/{{price}}/i,l),f=f.replace(/{{total}}/i,d),f=f.replace(/{{quantity}}/i,s);const v=encodeURIComponent(f);window.location.href=`https://api.whatsapp.com/send?phone=${o}&text=${v}`,"function"==typeof fbq&&"none"!=m&&fbq("track",m,{content_type:"product",content_ids:h,content_name:i,currency:"IDR",value:u})}))}))}wwc_variation_select_action(),wwc_chat_widget(),wwc_chat_submit(),wwc_checkout_redirect();