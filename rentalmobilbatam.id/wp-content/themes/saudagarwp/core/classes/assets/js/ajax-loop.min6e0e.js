document.querySelectorAll(".js-loop-load").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();let e=t.currentTarget,o=e.getAttribute("data-target"),a=document.getElementById(o),n=e.getAttribute("data-current-page"),r=e.getAttribute("data-total-page"),i=e.getAttribute("data-post-total"),s=e.getAttribute("data-setting");if(e.classList.contains("is-loading"))return!1;let l=parseInt(n)+1;!1==e.classList.contains("prev")&&parseInt(n),Date.now(),e.classList.add("is-loading"),e.innerHTML=ajax_loop_var.text_domain.loading,a.classList.add("rt-loading"),fetch(ajax_loop_var.apiurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:new URLSearchParams({action:"result",page:l,query:s})}).then(t=>t.json()).then(t=>{if(t){let o=parseInt(n)+1,s=parseInt(n)-1;if(a.classList.contains("js-masonry")){a.innerHTML+=t;var l=new Masonry(a,{columnWidth:".post-item",itemSelector:".post-item",percentPosition:!0,horizontalOrder:!0});imagesLoaded(a).on("progress",function(){l.layout()})}else a.innerHTML+=t;e.classList.contains("prev")?e.setAttribute("data-current-page",s):e.setAttribute("data-current-page",o);let c=a.querySelectorAll(".flex-item:not(.is-show)");c.forEach(t=>{animateCSS(t,"zoomIn","300"),t.classList.add("is-show")}),setTimeout(function(){a.classList.remove("rt-loading"),e.classList.remove("is-loading"),e.innerHTML=ajax_loop_var.text_domain.loadmore},500),o>=r&&e.parentNode.remove(),null!=a.querySelector(".wsb-countdown")&&new countdown;let d=a.childElementCount,u=ajax_loop_var.text_domain.result.replace("%s",d).replace("%s2",i),g=document.querySelector(".woocommerce-result-count");g&&(g.innerHTML=u)}}).catch(t=>{!0==confirm(ajax_loop_var.text_domain.errorMessage)&&window.location.reload(),console.log(t)})})});